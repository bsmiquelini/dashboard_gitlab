{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": 5,
  "links": [],
  "liveNow": false,
  "panels": [
    {
      "datasource": {
        "type": "prometheus",
        "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "mappings": [
            {
              "options": {
                "0": {
                  "color": "red",
                  "index": 1,
                  "text": "DOWN"
                },
                "1": {
                  "color": "green",
                  "index": 0,
                  "text": "UP"
                }
              },
              "type": "value"
            }
          ],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": null
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 0,
        "y": 0
      },
      "id": 102,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "textMode": "auto"
      },
      "pluginVersion": "9.5.2",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "editorMode": "code",
          "expr": "count(up{job=\"gitlab-ci-pipelines-exporter\"}) or vector(0)",
          "legendFormat": "__auto",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "GITLAB EXPORTER STATUS #",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
      },
      "description": "",
      "gridPos": {
        "h": 5,
        "w": 15,
        "x": 3,
        "y": 0
      },
      "id": 27,
      "options": {
        "code": {
          "language": "plaintext",
          "showLineNumbers": false,
          "showMiniMap": false
        },
        "content": "<h1>Dashboard CI/CD Gitlab</h1>\n<p style=\"text-align:left;\"><img src=\"https://www.cloudfoundry.org/wp-content/uploads/2017/10/icon_gitlab_cf@2x.png\" width=80px/></p>\n<div style=\"text-align: left;\">\n  <img src=\"https://cdn.prod.website-files.com/65172cb208ef8ecb7765b47f/65325415b94c8eb794a07d00_brand_white.svg\" loading=\"lazy\" alt=\"brand image\" />\n</div>",
        "mode": "markdown"
      },
      "pluginVersion": "9.5.2",
      "type": "text"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 5
      },
      "id": 97,
      "panels": [
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe o número total de jobs nos projetos especificados.",
          "fieldConfig": {
            "defaults": {
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-blue",
                    "value": null
                  },
                  {
                    "color": "#d44a3a"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 3,
            "x": 0,
            "y": 6
          },
          "id": 63,
          "maxDataPoints": 1000,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "expr": "count(gitlab_ci_pipeline_job_run_count{project=~\"${projeto}\", ref=~\"${branch}\"})",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "5m",
              "intervalFactor": 1,
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "title": "JOBS TOTAL #",
          "type": "stat"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe o número total de jobs que falharam.",
          "fieldConfig": {
            "defaults": {
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "#C4162A",
                    "value": 1
                  },
                  {
                    "color": "#d44a3a"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 2,
            "x": 3,
            "y": 6
          },
          "id": 65,
          "maxDataPoints": 1000,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (status)(\r\n  gitlab_ci_pipeline_job_status{project=~\"${projeto}.*\",status=\"failed\", ref=~\"${branch}\"}\r\n)",
              "format": "table",
              "instant": false,
              "interval": "5m",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "JOBS FALHAS #",
          "type": "stat"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe o número total de pipelines executadas.",
          "fieldConfig": {
            "defaults": {
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-blue",
                    "value": null
                  },
                  {
                    "color": "#d44a3a"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 3,
            "x": 0,
            "y": 11
          },
          "id": 73,
          "maxDataPoints": 10000000,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "expr": "count(gitlab_ci_pipeline_run_count{project=~\"${projeto}\", ref=~\"${branch}\"})",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "title": "PIPELINES TOTAL #",
          "type": "stat"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe o número de pipelines que falharam.",
          "fieldConfig": {
            "defaults": {
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "#C4162A",
                    "value": 1
                  },
                  {
                    "color": "#d44a3a"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 2,
            "x": 3,
            "y": 11
          },
          "id": 74,
          "maxDataPoints": 10000000,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "expr": "count(gitlab_ci_pipeline_status{status=\"failed\", project=~\"${projeto}\", ref=~\"${branch}\"} > 0) or vector(0)",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "title": "PIPELINES FALHAS #",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe o número total de pipelines executadas.",
          "fieldConfig": {
            "defaults": {
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-blue",
                    "value": null
                  },
                  {
                    "color": "#d44a3a"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 3,
            "x": 0,
            "y": 16
          },
          "id": 98,
          "maxDataPoints": 10000000,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "expr": "count(\r\n  gitlab_ci_environment_deployment_status{project=~\"${projeto}\", environment=~\"${ENVIRONMENT}.*\"} \r\n) or vector(0)",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "title": "PIPELINES TOTAL #",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe o número de pipelines que falharam.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-reds"
              },
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "blue",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 1
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 2,
            "x": 3,
            "y": 16
          },
          "id": 99,
          "maxDataPoints": 10000000,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "expr": "count(\r\n  gitlab_ci_environment_deployment_status{project=~\"${projeto}\", environment=~\"${ENVIRONMENT}.*\", status=\"failed\"} \r\n) or vector(0)",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "title": "DEPLOYS FALHAS #",
          "type": "stat"
        }
      ],
      "title": "TOTAL",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 6
      },
      "id": 44,
      "panels": [
        {
          "datasource": {
            "type": "datasource",
            "uid": "grafana"
          },
          "gridPos": {
            "h": 17,
            "w": 24,
            "x": 0,
            "y": 7
          },
          "id": 45,
          "options": {
            "code": {
              "language": "plaintext",
              "showLineNumbers": false,
              "showMiniMap": false
            },
            "content": "#  <span style=\"color:black\">Dashboard CI/CD GitLab</span>\n\nEste Dashboard foi desenvolvido para fornecer uma visão abrangente das operações de CI/CD no ambiente do GitLab. Ele permite identificar rapidamente problemas em pipelines, analisar a eficiência de builds e releases, e monitorar o desempenho de jobs. Com isso, a companhia pode melhorar a qualidade das entregas, reduzir o tempo de desenvolvimento e mitigar riscos associados a falhas em deploys, garantindo um processo de entrega contínua mais robusto e eficiente.\n\n## <span style=\"color:red\">Variáveis</span>\n\n### Variável de Projeto\n- **Nome:** `projeto`\n- **Descrição:** Esta variável é preenchida automaticamente com os nomes dos projetos do GitLab disponíveis. Ela permite que você filtre os dados exibidos no dashboard para um ou mais projetos específicos.\n- **Comportamento:** A variável `projeto` é usada em diversas métricas do dashboard para segmentar as visualizações por projeto. É possível selecionar múltiplos projetos ou todos os projetos, utilizando o valor padrão `$__all`.\n\n### Variável de Repositório\n- **Nome:** `repositorio`\n- **Descrição:** Filtra os dados por repositório no GitLab.\n- **Comportamento:** Usada para selecionar os repositórios e aplicar nas métricas dos dashboards.\n\n### Variável de Environment\n- **Nome:** `ENVIRONMENT`\n- **Descrição:** Filtra os dados exibidos no dashboard por environments específicos (Deployments realizados utilizando enviroments).\n- **Comportamento:** Pode-se selecionar múltiplos environments ou um único, dependendo da análise desejada. Esse campo é importante para avaliar as entregas que utilizam enviroments do Gitlab.\n\n### Variável de Filtro Branch\n- **Nome:** `branch`\n- **Descrição:** Esta variável permite filtrar os dados exibidos no dashboard por branches específicas. Por padrão, o valor é \".*\", o que significa que todas as branches serão consideradas.\n- **Uso:** \n  - Para visualizar dados de uma branch específica, como `master`, basta digitar `master`.\n  - Para visualizar todas as branches que começam com um determinado prefixo, como `master`, utilize a expressão `master.*`.\n  - O valor padrão \".*\" coleta todas as branches, permitindo uma visão abrangente das operações CI/CD em todas as branches.\n\n## <span style=\"color:red\">Categorias</span>\n\n### <span style=\"color:yellow\">1. JOBS \\#</span>\n\n#### 1.1 JOBS TOTAL #\n- **Descrição:** Exibe o número total de jobs nos projetos especificados.\n- **Interpretação:** Um número elevado de jobs pode indicar uma alta carga de trabalho nos pipelines, o que pode impactar os recursos do sistema.\n\n#### 1.2 JOBS FALHAS #\n- **Descrição:** Exibe o número total de jobs que falharam.\n- **Interpretação:** Um alto número de falhas pode sugerir problemas nos scripts ou na configuração dos jobs.\n\n#### 1.3 JOBS POR PERÍODO #\n- **Descrição:** Exibe o número de jobs executados em um período específico.\n- **Interpretação:** Permite monitorar a frequência de execução de jobs e identificar possíveis picos de utilização.\n\n#### 1.4 Job com maior tempo de execução\n- **Descrição:** Exibe os jobs com maior tempo de execução.\n- **Interpretação:** Jobs com maior tempo de execução podem ser candidatos para otimização.\n\n#### 1.5 % JOBS\n- **Descrição:** Exibe a porcentagem de jobs bem-sucedidos em comparação com os que falharam.\n- **Interpretação:** Um baixo percentual de sucesso pode indicar a necessidade de ajustes no pipeline.\n\n#### 1.6 Jobs com maior índice de falhas\n- **Descrição:** Exibe os jobs com maior número de falhas.\n- **Interpretação:** Jobs com falhas recorrentes devem ser analisados e corrigidos para melhorar a confiabilidade do pipeline.\n\n#### 1.7 Tempo médio de JOB\n- **Descrição:** Mede o tempo médio de execução dos jobs.\n- **Interpretação:** Um aumento no tempo médio pode indicar gargalos ou ineficiências que precisam ser investigadas.\n\n#### 1.8 RUNS POR RUNNERS #\n- **Descrição:** Exibe o número de jobs executados por cada runner.\n- **Interpretação:** Permite monitorar a carga de trabalho de cada runner e identificar possíveis sobrecargas ou quais são mais utilizados.\n\n#### 1.9 TOP jobs com sucesso\n- **Descrição:** Lista os jobs que mais tiveram sucesso nas execuções.\n- **Interpretação:** Ajuda a identificar quais jobs são mais estáveis e confiáveis.\n\n#### 1.10 JOBS COMPLETADOS COM SUCESSO #\n- **Descrição:** Exibe o número de jobs que foram completados com sucesso.\n- **Interpretação:** Um número alto de completamentos bem-sucedidos é um indicador positivo da estabilidade do pipeline.\n\n#### 1.11 RUNNING, FAILED OU NÃO COMPLETADOS #\n- **Descrição:** Exibe o status atual dos jobs, se estão em execução, falharam ou não foram completados.\n- **Interpretação:** Acompanhar esses estados ajuda a garantir que os jobs estão sendo processados corretamente. É possivel acompanhar e ser direcionado diretamente pelo ID da pipeline até a URI referente ao JOB do Gitlab.\n\n#### 1.12 Execuções de jobs por período\n- **Descrição:** Exibe o número de execuções de jobs em um período de tempo especificado.\n- **Interpretação:** Pode ser usado para avaliar a demanda por execução de jobs ao longo do tempo.\n\n### <span style=\"color:yellow\">2. PIPELINES \\#</span>\n\n#### 2.1 PIPELINES POR PERÍODO #\n- **Descrição:** Exibe o número de pipelines executados em um período de tempo específico.\n- **Interpretação:** Ajuda a monitorar a frequência de execução de pipelines ao longo do tempo.\n\n#### 2.2 % de falha e sucesso em execução de build\n- **Descrição:** Exibe a porcentagem de builds bem-sucedidas em comparação com as falhadas.\n- **Interpretação:** Um percentual elevado de falhas pode indicar problemas nos scripts de build ou até mesmo na qualidade de desenvolvimento.\n\n#### 2.3 10 mais stages de build que falharam\n- **Descrição:** Lista os 10 stages de build com o maior número de falhas.\n- **Interpretação:** Identifica quais stages de build que podem precisar de revisão e otimização.\n\n#### 2.4 PIPELINES TOTAL #\n- **Descrição:** Exibe o número total de pipelines executadas.\n- **Interpretação:** O número total de pipelines pode refletir a carga geral de trabalho no ambiente CI/CD.\n\n#### 2.5 PIPELINES FALHAS #\n- **Descrição:** Exibe o número de pipelines que falharam.\n- **Interpretação:** Um número alto de pipelines com falha pode indicar problemas sistêmicos ou de configuração, ou de templates, definição ou qualidade de codigo.\n\n#### 2.6 Tempo médio das Pipelines mais demoradas\n- **Descrição:** Exibe o tempo médio de execução das pipelines que levam mais tempo para completar.\n- **Interpretação:** Pipelines com tempos elevados podem ser candidatas para otimização.\n\n#### 2.7 Execuções de pipelines por período\n- **Descrição:** Exibe o número de pipelines executadas em um período de tempo especificado.\n- **Interpretação:** Permite avaliar a demanda por execução de pipelines ao longo do tempo.\n\n### <span style=\"color:yellow\">3. ENVIRONMENTS \\#</span>\n\n#### 3.1 ENVIRONMENTS\n- **Descrição:** Exibe os detalhes dos environments, como o nome, ID e status das execuções.\n- **Interpretação:** Permite acompanhar os deployments realizados em diferentes environments, exibindo informações relevantes como ids, commits, enviroments, status, etc.\n\n#### 3.2 DEPLOYMENTS POR PERÍODO #\n- **Descrição:** Exibe o número de deploys realizados em um período específico.\n- **Interpretação:** Ajuda a monitorar a frequência de deploys por periodo de visualização.\n\n#### 3.3 DEPLOYS COM FALHA #\n- **Descrição:** Exibe o número de deploys que falharam.\n- **Interpretação:** Um alto número de deploys com falha pode indicar problemas no código ou na configuração da infraestrutura.\n\n#### 3.4 DEPLOYS COM SUCESSO #\n- **Descrição:** Exibe o número de deploys realizados com sucesso.\n- **Interpretação:** Um número alto de deploys bem-sucedidos é um bom indicador da estabilidade do processo de deploy.\n\n#### 3.7 Projetos com maiores atrasos nas entregas (Commits que não foram para deploy)\n- **Descrição:** Este painel mostra os projetos com maior quantidade de commits que ainda não foram enviados para o ambiente de deploy.\n- **Interpretação:** A presença de muitos commits que ainda não foram para o deploy pode indicar problemas no fluxo de entrega contínua. Isso pode causar atrasos no ciclo de desenvolvimento, afetando o tempo de lançamento de novas funcionalidades ou correções de bugs.\n\n#### 3.7 PROJETOS COM ATRASO (Commits sem deploys)\n- **Descrição:** Exibe os projetos que possuem commits que ainda não foram enviados para o ambiente de deploy.\n- **Interpretação:** Um alto número de commits sem deploy pode indicar problemas na entrega contínua ou no processo de integração. Isso pode resultar em atrasos na liberação de funcionalidades ou correções, impactando o ciclo de desenvolvimento.\n\n#### 3.5 Tempo médio de Deployment\n- **Descrição:** Mede o tempo médio de execução dos deploys.\n- **Interpretação:** Um aumento no tempo médio de deploy pode sugerir problemas de performance ou complexidade.\n\n#### 3.6 DEPLOYS POR DEV\n- **Descrição:** Exibe a quantidade de deploys realizados por cada desenvolvedor.\n- **Interpretação:** Ajuda a identificar quem está mais envolvido no processo de entrega.",
            "mode": "markdown"
          },
          "pluginVersion": "9.5.2",
          "title": "DOC #",
          "type": "text"
        }
      ],
      "title": "DOC #",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 7
      },
      "id": 30,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-blue",
                    "value": null
                  },
                  {
                    "color": "#d44a3a"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 3,
            "x": 0,
            "y": 8
          },
          "id": 90,
          "maxDataPoints": 1000,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(increase(gitlab_ci_pipeline_job_run_count{project=~\"$projeto\", ref=~\"$branch\"}[$__range]))",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "JOBS POR PERIODO #",
          "type": "stat"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "rgba(237, 129, 40, 0.89)",
                    "value": 600
                  },
                  {
                    "color": "#d44a3a",
                    "value": 900
                  }
                ]
              },
              "unit": "dtdurations"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 5,
            "x": 3,
            "y": 8
          },
          "id": 67,
          "maxDataPoints": 1000,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "expr": "avg(gitlab_ci_pipeline_job_duration_seconds{project=~\"${projeto}.*\", ref=~\"${branch}.*\"} > 0)",
              "format": "time_series",
              "interval": "5m",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Tempo medio de JOB",
          "type": "stat"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 15,
            "x": 8,
            "y": 8
          },
          "id": 31,
          "maxDataPoints": 100,
          "options": {
            "displayMode": "basic",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(10, max by (job_name, project) (gitlab_ci_pipeline_job_duration_seconds{project=~\"${projeto}.*\", ref=~\"${branch}\"} > 1))",
              "format": "time_series",
              "instant": true,
              "interval": "5m",
              "legendFormat": "{{job_name}} - {{project}}",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Job com maior tempo de execução",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "success"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "failed"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "manual"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 0,
            "y": 13
          },
          "id": 40,
          "maxDataPoints": 999,
          "options": {
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "values": [
                "percent",
                "value"
              ]
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (status)(\r\n  gitlab_ci_pipeline_job_status{project=~\"${projeto}.*\",status=\"failed\", ref=~\"${branch}\"}\r\n)",
              "instant": false,
              "interval": "5m",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (status)(\r\n  gitlab_ci_pipeline_job_status{project=~\"${projeto}.*\",status=\"success\"}\r\n)",
              "hide": false,
              "instant": false,
              "interval": "5m",
              "legendFormat": "__auto",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (status)(\r\n  gitlab_ci_pipeline_job_status{project=~\"${projeto}.*\",status!~\"success|failed|skipped|manual|created\"}\r\n)",
              "hide": false,
              "instant": false,
              "interval": "5m",
              "legendFormat": "__auto",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "% JOBS",
          "type": "piechart"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 16,
            "w": 16,
            "x": 8,
            "y": 19
          },
          "id": 13,
          "maxDataPoints": 500,
          "options": {
            "displayMode": "lcd",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sort_desc(topk(10, sum by (project, job_name) (\r\n  gitlab_ci_pipeline_job_status{status=\"failed\", project=~\"${projeto}.*\", ref=~\"${branch}\"}\r\n))) > 2\r\n",
              "instant": true,
              "legendFormat": "{{project}} - {{job_name}}",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Jobs com maior indice de falhas",
          "transformations": [
            {
              "id": "organize",
              "options": {}
            }
          ],
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe o número total de execuções de pipelines no projeto especificado. O painel usa a métrica gitlab_ci_pipeline_run_count e conta quantas execuções de pipelines ocorreram, filtrando pelo label project. A visualização mostra esse valor como uma única métrica, destacando-o de forma visual com fundo colorido.\n\nDados nulos podem ser linux ou python. Verificar",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "fillOpacity": 80,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 8,
            "x": 0,
            "y": 22
          },
          "id": 43,
          "maxDataPoints": 1000,
          "options": {
            "barRadius": 0.2,
            "barWidth": 0.64,
            "colorByField": "tag_list",
            "fullHighlight": false,
            "groupWidth": 0.7,
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "orientation": "horizontal",
            "showValue": "auto",
            "stacking": "none",
            "text": {
              "valueSize": 1
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "xField": "tag_list",
            "xTickLabelRotation": 0,
            "xTickLabelSpacing": 100
          },
          "pluginVersion": "11.1.3",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sort_desc(sum by (tag_list) (gitlab_ci_pipeline_job_status{project=~\"${projeto}\", ref=~\"${branch}\"}))\r\n",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{}}",
              "range": false,
              "refId": "B"
            }
          ],
          "title": "EXECUÇÔES POR TAGS #",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {}
              }
            }
          ],
          "type": "barchart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe o número total de execuções de pipelines no projeto especificado. O painel usa a métrica gitlab_ci_pipeline_run_count e conta quantas execuções de pipelines ocorreram, filtrando pelo label project. A visualização mostra esse valor como uma única métrica, destacando-o de forma visual com fundo colorido.\n\nDados nulos podem ser linux ou python. Verificar",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "fillOpacity": 80,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineWidth": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 8,
            "x": 0,
            "y": 35
          },
          "id": 103,
          "maxDataPoints": 1000,
          "options": {
            "barRadius": 0.2,
            "barWidth": 0.64,
            "colorByField": "runner_description",
            "fullHighlight": false,
            "groupWidth": 0.7,
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "orientation": "horizontal",
            "showValue": "auto",
            "stacking": "none",
            "text": {
              "valueSize": 1
            },
            "tooltip": {
              "mode": "multi",
              "sort": "desc"
            },
            "xField": "runner_description",
            "xTickLabelRotation": 0,
            "xTickLabelSpacing": 100
          },
          "pluginVersion": "11.1.3",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sort_desc(sum by (runner_description) (gitlab_ci_pipeline_job_status{project=~\"${projeto}\", ref=~\"${branch}\"}))\r\n",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{}}",
              "range": false,
              "refId": "B"
            }
          ],
          "title": "EXECUÇÔES POR RUNNERS #",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {}
              }
            }
          ],
          "type": "barchart"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 13,
            "w": 16,
            "x": 8,
            "y": 35
          },
          "id": 14,
          "maxDataPoints": 500,
          "options": {
            "displayMode": "lcd",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sort_desc(topk(10, sum by (project, job_name) (\r\n  gitlab_ci_pipeline_job_status{status=\"success\", project=~\"${projeto}\"}\r\n))) > 0\r\n",
              "instant": true,
              "interval": "5m",
              "legendFormat": "{{project}} - {{job_name}}",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "TOP jobs com sucesso",
          "transformations": [
            {
              "id": "organize",
              "options": {}
            }
          ],
          "type": "bargauge"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "center",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true,
                "inspect": false
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "ID"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "View job #${__value.numeric}",
                        "url": "https://${GITLAB_HOST}/${__data.fields.project}/-/jobs/${__value.numeric}"
                      }
                    ]
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "dark-blue",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.width",
                    "value": 85
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Status"
                },
                "properties": [
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "applyToRow": false,
                      "mode": "gradient",
                      "type": "color-background",
                      "wrapText": false
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "mode": "thresholds"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Job"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "custom.width",
                    "value": 240
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Project"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "custom.width",
                    "value": 356
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Ref Kind"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 98
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Ref Name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 256
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Duration"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "dtdurations"
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "light-orange",
                          "value": 900
                        },
                        {
                          "color": "semi-dark-red",
                          "value": 1200
                        }
                      ]
                    }
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "custom.width",
                    "value": 123
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Date"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "dtdurations"
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "custom.width",
                    "value": 132
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 13,
            "w": 12,
            "x": 0,
            "y": 48
          },
          "id": 72,
          "maxDataPoints": 1000,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Date"
              }
            ]
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "-max(time() - gitlab_ci_pipeline_job_timestamp{project=~\"${projeto}\", ref=~\"${branch}\"}) by (project, ref, job_name, kind) unless max(gitlab_ci_pipeline_job_status{status=~\"success\", project=~\"${projeto}\", ref=~\"${branch}\"}) by (project, ref, job_name, kind) > 0",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_pipeline_job_duration_seconds{project=~\"${projeto}\", ref=~\"${branch}\"}) by (project, ref, job_name, kind) unless (max(gitlab_ci_pipeline_job_status{status=~\"success\", project=~\"${projeto}\", ref=~\"${branch}\"}) by (project, ref, job_name, kind) > 0)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "C"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_pipeline_job_status{project=~\"${projeto}\", ref=~\"${branch}\", status=~\"running|failed|canceled|created|waiting_for_resource|preparing|pending|skipped|manual|scheduled\"}) \nby (project, ref, job_name, kind, status)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_pipeline_job_id{project=~\"${projeto}\", ref=~\"${branch}\"}) by (project, ref, kind, job_name) unless (max(gitlab_ci_pipeline_job_status{status=~\"success\", project=~\"${projeto}\", ref=~\"${branch}\"}) by (project, ref, kind, job_name) > 0)",
              "format": "table",
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "range": false,
              "refId": "D"
            }
          ],
          "title": "RUNNING, FAILED OU NÂO COMPLETADOS #",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Value #A": true,
                  "job_name": false,
                  "kind": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time": 0,
                  "Value #A": 9,
                  "Value #B": 6,
                  "Value #C": 7,
                  "Value #D": 1,
                  "job_name": 3,
                  "kind": 4,
                  "project": 2,
                  "ref": 5,
                  "status": 8
                },
                "renameByName": {
                  "Value #A": "Status",
                  "Value #B": "Date",
                  "Value #C": "Duration",
                  "Value #D": "ID",
                  "job_name": "Job",
                  "kind": "Ref Kind",
                  "project": "Project",
                  "ref": "Ref Name",
                  "status": "Status"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "center",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true,
                "inspect": false
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "ID"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "View job #${__value.numeric}",
                        "url": "https://${GITLAB_HOST}/${__data.fields.project}/-/jobs/${__value.numeric}"
                      }
                    ]
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "dark-blue",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.width",
                    "value": 85
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Status"
                },
                "properties": [
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "1": {
                            "text": "SUCCESS"
                          }
                        },
                        "type": "value"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Job"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "custom.width",
                    "value": 231
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Project"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "custom.width",
                    "value": 352
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Ref Kind"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 98
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Ref Name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 261
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Duration"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "dtdurations"
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "light-orange",
                          "value": 900
                        },
                        {
                          "color": "semi-dark-red",
                          "value": 1200
                        }
                      ]
                    }
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "custom.width",
                    "value": 115
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Date"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "dtdurations"
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "custom.width",
                    "value": 128
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 13,
            "w": 12,
            "x": 12,
            "y": 48
          },
          "id": 70,
          "interval": "10s",
          "maxDataPoints": 100,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Date"
              }
            ]
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "-max(time() - gitlab_ci_pipeline_job_timestamp{project=~\"${projeto}\", ref=~\"${branch}\"}) by (project, ref, job_name, kind) \r\nunless max(gitlab_ci_pipeline_job_status{status!~\"success\", project=~\"${projeto}\", ref=~\"$REF\"}) by (project, ref, job_name, kind) > 0\r\n\r\n\r\n",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "1m",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_pipeline_job_duration_seconds{project=~\"${projeto}\", ref=~\"${branch}\", job_name=~\"${branch}\"}) \r\nby (project, ref, job_name, kind)\r\n",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "1m",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "C"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_pipeline_job_id{project=~\"${projeto}\", ref=~\"${branch}\", job_name=~\"${branch}\"}) \r\nby (project, ref, kind, job_name)\r\n\r\n",
              "format": "table",
              "instant": true,
              "interval": "1m",
              "legendFormat": "",
              "range": false,
              "refId": "D"
            }
          ],
          "title": "JOBS COMPLETADOS COM SUCESSO #",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Value #A": false,
                  "job_name": false,
                  "kind": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time": 0,
                  "Value #A": 9,
                  "Value #B": 6,
                  "Value #C": 7,
                  "Value #D": 1,
                  "job_name": 3,
                  "kind": 4,
                  "project": 2,
                  "ref": 5,
                  "status": 8
                },
                "renameByName": {
                  "Value #A": "Status",
                  "Value #B": "Date",
                  "Value #C": "Duration",
                  "Value #D": "ID",
                  "job_name": "Job",
                  "kind": "Ref Kind",
                  "project": "Project",
                  "ref": "Ref Name",
                  "status": "Status"
                }
              }
            },
            {
              "id": "calculateField",
              "options": {
                "alias": "Status",
                "mode": "reduceRow",
                "reduce": {
                  "include": [
                    "ID"
                  ],
                  "reducer": "count"
                },
                "replaceFields": false
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Jobs executados na linha do tempo por periodo",
          "fieldConfig": {
            "defaults": {
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 11,
            "w": 20,
            "x": 0,
            "y": 61
          },
          "id": 93,
          "maxDataPoints": 100,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "1500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": true,
            "globalClickthroughSanitizedEnabled": true,
            "globalDecimals": 0,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "rgba(10, 85, 161, 1)",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 25,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColorEnabled": true,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Roboto",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Roboto",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": []
            },
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "SEM EXECUÇÔES",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 1,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 1
          },
          "pluginVersion": "2.1.13",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (project, job_name) (\r\n  increase(gitlab_ci_pipeline_job_run_count{project=~\".*\", ref=~\".*\"}[$__range])\r\n) > 0\r\n",
              "format": "time_series",
              "fullMetaSearch": false,
              "includeNullMetadata": false,
              "instant": true,
              "interval": "1m",
              "legendFormat": "{{project}} - {{job_name}}",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Execuções de jobs por periodo",
          "type": "grafana-polystat-panel"
        }
      ],
      "title": "JOBS #",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 8
      },
      "id": 25,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe o número de pipelines executados em um período de tempo específico.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-blue",
                    "value": null
                  },
                  {
                    "color": "#d44a3a"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 3,
            "x": 0,
            "y": 9
          },
          "id": 91,
          "maxDataPoints": 1000,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(increase(gitlab_ci_pipeline_run_count{project=~\"$projeto\", ref=~\"$branch\"}[$__range]))",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "PIPELINES POR PERIODO #",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "rgba(237, 129, 40, 0.89)",
                    "value": 600
                  },
                  {
                    "color": "#d44a3a",
                    "value": 900
                  }
                ]
              },
              "unit": "dtdurations"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 6,
            "x": 3,
            "y": 9
          },
          "id": 75,
          "maxDataPoints": 1000,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "expr": "avg(gitlab_ci_pipeline_duration_seconds{project=~\"${projeto}.*\", ref=~\"${branch}.*\"} > 0)",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Tempo medio de Pipeline",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 16,
            "w": 14,
            "x": 9,
            "y": 9
          },
          "id": 94,
          "maxDataPoints": 100,
          "options": {
            "displayMode": "basic",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(10, max by (project) (gitlab_ci_pipeline_duration_seconds{project=~\"${projeto}.*\", ref=~\"${branch}\"} > 1))",
              "format": "time_series",
              "instant": true,
              "interval": "5m",
              "legendFormat": "{{{project}}",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Pipelines com maior tempo de execução",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe o número de pipelines executados em um período de tempo específico.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "failed"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "success"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "skipped"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 11,
            "w": 9,
            "x": 0,
            "y": 14
          },
          "id": 11,
          "maxDataPoints": 10000000,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "right",
              "showLegend": true,
              "values": [
                "value",
                "percent"
              ]
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.1.3",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(gitlab_ci_pipeline_status{status=\"failed\", project=~\"${projeto}.*\", ref=~\"${branch}\"}) by (status)\r\n",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(gitlab_ci_pipeline_status{status=\"success\", project=~\"${projeto}.*\", ref=~\"${branch}\"}) by (status)\r\n",
              "hide": false,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(gitlab_ci_pipeline_status{status!~\"success|failed|manual|skipped\", project=~\"${projeto}.*\", ref=~\"${branch}\"}) by (status)\r\n",
              "hide": false,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "% de falha e sucesso em pipelines",
          "type": "piechart"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Lista os 10 stages de build com o maior número de falhas.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 20,
            "w": 14,
            "x": 0,
            "y": 25
          },
          "id": 15,
          "maxDataPoints": 100,
          "options": {
            "displayMode": "lcd",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sort_desc(topk(10, sum by (project, job_name) (\r\n  gitlab_ci_pipeline_job_status{status=\"failed\", project=~\"${projeto}.*\", ref=~\"${branch}\"}\r\n))) > 0\r\n",
              "format": "time_series",
              "instant": true,
              "legendFormat": "{{project}} - {{job_name}}",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "10 mais stages de build que falharam",
          "transformations": [
            {
              "id": "organize",
              "options": {}
            }
          ],
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "center",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true,
                "inspect": false
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "ID"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "View pipeline #${__value.numeric}",
                        "url": "https://${GITLAB_HOST}/${__data.fields.project}/pipelines/${__value.numeric}"
                      }
                    ]
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "dark-blue",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.width",
                    "value": 85
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Status"
                },
                "properties": [
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "mode": "thresholds"
                    }
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "2": {
                            "text": "RUNNING"
                          },
                          "3": {
                            "text": "FAILED"
                          },
                          "4": {
                            "text": "CANCELED"
                          },
                          "5": {
                            "text": "CREATED"
                          },
                          "6": {
                            "text": "WAITING FOR RESOURCE"
                          },
                          "7": {
                            "text": "PREPARING"
                          },
                          "8": {
                            "text": "PENDING"
                          },
                          "9": {
                            "text": "SKIPPED"
                          },
                          "10": {
                            "text": "MANUAL"
                          },
                          "11": {
                            "text": "SCHEDULED"
                          }
                        },
                        "type": "value"
                      }
                    ]
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "light-blue",
                          "value": 1
                        },
                        {
                          "color": "semi-dark-red",
                          "value": 3
                        },
                        {
                          "color": "light-orange",
                          "value": 5
                        },
                        {
                          "color": "rgb(135, 135, 134)",
                          "value": 9
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Job"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "custom.width",
                    "value": 230
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Project"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "custom.width",
                    "value": 387
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Ref Kind"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 98
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Ref Name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 122
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Duration"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "dtdurations"
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "light-orange",
                          "value": 900
                        },
                        {
                          "color": "semi-dark-red",
                          "value": 1200
                        }
                      ]
                    }
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Date"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "dtdurations"
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 22,
            "w": 12,
            "x": 0,
            "y": 45
          },
          "id": 85,
          "maxDataPoints": 1000,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Date"
              }
            ]
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "-max(time() - gitlab_ci_pipeline_timestamp{project=~\"${projeto}\", ref=~\"${branch}\"}) by (project, ref, kind) unless max(gitlab_ci_pipeline_status{status=~\"success\", project=~\"$projeto\", ref=~\"$branch\"}) by (project, ref, kind) > 0",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_pipeline_duration_seconds{project=~\"${projeto}\", ref=~\"$branch\"}) by (project, ref, kind) unless (max(gitlab_ci_pipeline_status{status=~\"success\", project=~\"$projeto\", ref=~\"$branch\"}) by (project, ref, kind) > 0)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "C"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(max(gitlab_ci_pipeline_status{project=~\"${projeto}\", ref=~\"$branch\", status=~\"running\"}) by (project, ref, kind) * 2) > 0 or\n(max(gitlab_ci_pipeline_status{project=~\"$projeto\", ref=~\"$branch\", status=~\"failed\"}) by (project, ref, kind) * 3) > 0 or\n(max(gitlab_ci_pipeline_status{project=~\"$projeto\", ref=~\"$branch\", status=~\"canceled\"}) by (project, ref, kind) * 4) > 0 or\n(max(gitlab_ci_pipeline_status{project=~\"$projeto\", ref=~\"$branch\", status=~\"created\"}) by (project, ref, kind) * 5) > 0 or\n(max(gitlab_ci_pipeline_status{project=~\"$projeto\", ref=~\"$branch\", status=~\"waiting_for_resource\"}) by (project, ref, kind) * 6) > 0 or\n(max(gitlab_ci_pipeline_status{project=~\"$projeto\", ref=~\"$branch\", status=~\"preparing\"}) by (project, ref, kind) * 7) > 0 or\n(max(gitlab_ci_pipeline_status{project=~\"$projeto\", ref=~\"$branch\", status=~\"pending\"}) by (project, ref, kind) * 8) > 0 or\n(max(gitlab_ci_pipeline_status{project=~\"$projeto\", ref=~\"$branch\", status=~\"skipped\"}) by (project, ref, kind) * 9) > 0 or\n(max(gitlab_ci_pipeline_status{project=~\"$projeto\", ref=~\"$branch\", status=~\"manual\"}) by (project, ref, kind) * 10) > 0 or\n(max(gitlab_ci_pipeline_status{project=~\"$projeto\", ref=~\"$branch\", status=~\"scheduled\"}) by (project, ref, kind) * 11) > 0",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_pipeline_id{project=~\"$projeto\", ref=~\"$branch\"}) by (project, ref, kind, job_name) unless (max(gitlab_ci_pipeline_status{status=~\"success\", project=~\"$projeto\", ref=~\"$branch\"}) by (project, ref, kind, job_name) > 0)",
              "format": "table",
              "instant": true,
              "interval": "1m",
              "legendFormat": "",
              "range": false,
              "refId": "D"
            }
          ],
          "title": "RODANDO, COM FALHA OU INCOMPLETO",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Value #A": false,
                  "job_name": false
                },
                "indexByName": {
                  "Time": 0,
                  "Value #A": 9,
                  "Value #B": 6,
                  "Value #C": 7,
                  "Value #D": 1,
                  "job_name": 3,
                  "kind": 4,
                  "project": 2,
                  "ref": 5,
                  "status": 8
                },
                "renameByName": {
                  "Value #A": "Status",
                  "Value #B": "Date",
                  "Value #C": "Duration",
                  "Value #D": "ID",
                  "job_name": "Job",
                  "kind": "Ref Kind",
                  "project": "Project",
                  "ref": "Ref Name",
                  "status": "Status"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "center",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true,
                "inspect": false
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "ID"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "View pipeline #${__value.numeric}",
                        "url": "https://${GITLAB_HOST}/${__data.fields.project}/pipelines/${__value.numeric}"
                      }
                    ]
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "dark-blue",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.width",
                    "value": 85
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Status"
                },
                "properties": [
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "1": {
                            "text": "SUCCESS"
                          }
                        },
                        "type": "value"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Job"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "custom.width",
                    "value": 230
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Project"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "custom.width",
                    "value": 218
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Ref Kind"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 98
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Ref Name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 122
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Duration"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "dtdurations"
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "light-orange",
                          "value": 900
                        },
                        {
                          "color": "semi-dark-red",
                          "value": 1200
                        }
                      ]
                    }
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Date"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "dtdurations"
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 22,
            "w": 12,
            "x": 12,
            "y": 45
          },
          "id": 87,
          "maxDataPoints": 500,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Date"
              }
            ]
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "-max(time() - gitlab_ci_pipeline_timestamp{project=~\"$projeto\", ref=~\"$branch\"}) by (project, ref, kind) unless max(gitlab_ci_pipeline_status{status!~\"success\", project=~\"$projeto\", ref=~\"$branch\"}) by (project, ref, kind) > 0",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_pipeline_duration_seconds{project=~\"$projeto\", ref=~\"$branch\"}) by (project, ref, kind) unless (max(gitlab_ci_pipeline_status{status!~\"success\", project=~\"$projeto\", ref=~\"$branch\"}) by (project, ref, kind) > 0)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "C"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_pipeline_id{project=~\"$projeto\", ref=~\"$branch\"}) by (project, ref, kind) unless (max(gitlab_ci_pipeline_status{status!~\"success\", project=~\"$projeto\", ref=~\"$branch\"}) by (project, ref, kind) > 0)",
              "format": "table",
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "range": false,
              "refId": "D"
            }
          ],
          "title": "PIPELINES COMPLETADAS COM SUCESSO",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Value #A": false,
                  "job_name": false
                },
                "indexByName": {
                  "Time": 0,
                  "Value #A": 9,
                  "Value #B": 6,
                  "Value #C": 7,
                  "Value #D": 1,
                  "job_name": 3,
                  "kind": 4,
                  "project": 2,
                  "ref": 5,
                  "status": 8
                },
                "renameByName": {
                  "Value #A": "Status",
                  "Value #B": "Date",
                  "Value #C": "Duration",
                  "Value #D": "ID",
                  "job_name": "Job",
                  "kind": "Ref Kind",
                  "project": "Project",
                  "ref": "Ref Name",
                  "status": "Status"
                }
              }
            },
            {
              "id": "calculateField",
              "options": {
                "alias": "Status",
                "mode": "reduceRow",
                "reduce": {
                  "include": [
                    "ID"
                  ],
                  "reducer": "count"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "mode": "gradient",
                  "type": "gauge",
                  "valueDisplayMode": "color"
                },
                "inspect": false
              },
              "mappings": [
                {
                  "options": {
                    "500": {
                      "color": "red",
                      "index": 0
                    }
                  },
                  "type": "value"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "decbytes"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 15,
            "w": 9,
            "x": 0,
            "y": 67
          },
          "id": 41,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Value (max)"
              }
            ]
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(10, max by (job_name, project, tag_list) (gitlab_ci_pipeline_job_artifact_size_bytes{project=~\"${projeto}\", ref=~\"${branch}\"}))",
              "format": "table",
              "instant": false,
              "legendFormat": "{{reason}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "MAIORES ARTEFATOS",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Value": false,
                  "job_name": true,
                  "project": false,
                  "tag_list": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {}
              }
            },
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Value": {
                    "aggregations": [
                      "max"
                    ],
                    "operation": "aggregate"
                  },
                  "job_name": {
                    "aggregations": [],
                    "operation": "aggregate"
                  },
                  "project": {
                    "aggregations": [],
                    "operation": "groupby"
                  },
                  "tag_list": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 14,
            "x": 9,
            "y": 67
          },
          "id": 47,
          "maxDataPoints": 100,
          "options": {
            "displayMode": "lcd",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sort_desc(topk(10, sum by (project, job_name) (\r\n  gitlab_ci_pipeline_job_status{status=\"success\", project=~\"${projeto}.*\", ref=~\"${branch}\"} \r\n))) > 1\r\n",
              "instant": true,
              "legendFormat": "{{project}} - {{job_name}}",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "stages com sucesso",
          "transformations": [
            {
              "id": "organize",
              "options": {}
            }
          ],
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 12,
            "w": 14,
            "x": 9,
            "y": 75
          },
          "id": 17,
          "options": {
            "displayMode": "lcd",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sort_desc(topk(10, sum by (project, job_name) (\r\n  gitlab_ci_pipeline_job_status{status=\"failed\", job_name=~\".*build.*|.*BUILD.*\", project=~\"${projeto}.*\", ref=~\"${branch}\"}\r\n))) > 0 \r\n",
              "instant": true,
              "legendFormat": "{{project}} - {{job_name}}",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "mais stages de build que falharam",
          "transformations": [
            {
              "id": "organize",
              "options": {}
            }
          ],
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 9,
            "x": 0,
            "y": 82
          },
          "id": 95,
          "maxDataPoints": 100,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "1500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": true,
            "globalClickthroughSanitizedEnabled": true,
            "globalDecimals": 0,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "OK",
            "globalFillColor": "rgba(10, 85, 161, 1)",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 25,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColorEnabled": true,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Roboto",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Roboto",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": []
            },
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "OK",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 1,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 1
          },
          "pluginVersion": "2.1.13",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(increase(gitlab_ci_pipeline_run_count{proeject=~\"$projeto\",ref=~\"$branch\"}[$__range])) by (project, ref) > 1\r\n",
              "format": "time_series",
              "instant": false,
              "legendFormat": "{{project}} - {{ref}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Projetos executados por periodo",
          "type": "grafana-polystat-panel"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "fieldConfig": {
            "defaults": {
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "scaleDistribution": {
                  "type": "linear"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 87
          },
          "id": 9,
          "maxDataPoints": 100,
          "options": {
            "calculate": false,
            "cellGap": 0,
            "cellValues": {
              "decimals": 0
            },
            "color": {
              "exponent": 0.5,
              "fill": "dark-orange",
              "min": 1,
              "mode": "scheme",
              "reverse": false,
              "scale": "exponential",
              "scheme": "Oranges",
              "steps": 64
            },
            "exemplars": {
              "color": "rgba(255,0,255,0.7)"
            },
            "filterValues": {
              "le": 1e-9
            },
            "legend": {
              "show": true
            },
            "rowsFrame": {
              "layout": "unknown"
            },
            "tooltip": {
              "mode": "single",
              "show": true,
              "showColorScale": false,
              "yHistogram": false
            },
            "yAxis": {
              "axisPlacement": "right",
              "decimals": 0,
              "reverse": false,
              "unit": "none"
            }
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (project) (\r\n  increase(gitlab_ci_pipeline_run_count{project=~\".*\", ref=~\".*\"}[$__rate_interval])\r\n) > 0\r\n",
              "format": "time_series",
              "fullMetaSearch": false,
              "includeNullMetadata": false,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Execuções de pipelines por periodo",
          "type": "heatmap"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "series",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "linear",
                "lineWidth": 2,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 87
          },
          "id": 96,
          "maxDataPoints": 100,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "table",
              "placement": "right",
              "showLegend": false
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "expr": "gitlab_ci_pipeline_status{status=\"failed\"} > 0",
              "legendFormat": "{{project}} - {{status}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Projetos com falha por periodo",
          "type": "timeseries"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "fieldConfig": {
            "defaults": {
              "mappings": [],
              "thresholds": {
                "mode": "percentage",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "orange",
                    "value": 70
                  },
                  {
                    "color": "red",
                    "value": 85
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 24,
            "x": 0,
            "y": 96
          },
          "id": 22,
          "maxDataPoints": 100,
          "options": {
            "minVizHeight": 75,
            "minVizWidth": 75,
            "orientation": "auto",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showThresholdLabels": false,
            "showThresholdMarkers": false,
            "sizing": "auto"
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(10, avg by (pipeline_name, project) (gitlab_ci_pipeline_duration_seconds{source=\"push\", project=~\"${projeto}.*\", ref=~\"${branch}\"}))",
              "format": "time_series",
              "instant": false,
              "legendFormat": "{{pipeline_name}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Lead time das pipelines",
          "type": "gauge"
        }
      ],
      "title": "PIPELINE #",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 9
      },
      "id": 53,
      "panels": [
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe o número de deploys realizados em um período específico.",
          "fieldConfig": {
            "defaults": {
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "semi-dark-blue",
                    "value": null
                  },
                  {
                    "color": "#d44a3a"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 4,
            "x": 0,
            "y": 10
          },
          "id": 59,
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "sum"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(increase(gitlab_ci_environment_deployment_count{project=~\"$projeto\", ref=~\"$branch\", environment=~\"${ENVIRONMENT}\"}[$__range]))",
              "format": "table",
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "DEPLOYMENTS POR PERIODO#",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Mede o tempo médio de execução dos deploys.",
          "fieldConfig": {
            "defaults": {
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "rgba(237, 129, 40, 0.89)",
                    "value": 600
                  },
                  {
                    "color": "#d44a3a",
                    "value": 900
                  }
                ]
              },
              "unit": "dtdurations"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 4,
            "x": 4,
            "y": 10
          },
          "id": 79,
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "expr": "avg(gitlab_ci_environment_deployment_duration_seconds{project=~\"${projeto}.*\", environment=~\"${ENVIRONMENT}\"} > 0)",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Tempo medio de Deployment",
          "type": "stat"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe os projetos que possuem commits que ainda não foram enviados para o ambiente de deploy.",
          "fieldConfig": {
            "defaults": {
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "#C4162A",
                    "value": 1
                  },
                  {
                    "color": "#d44a3a"
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 6,
            "w": 4,
            "x": 8,
            "y": 10
          },
          "id": 61,
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "horizontal",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "expr": "count(gitlab_ci_environment_behind_commits_count{project=~\"${projeto}\", environment=~\"$ENVIRONMENT.*\"} > 0) or vector(0)",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "title": "PROJETOS COM ATRASO (Commits sem deploys)",
          "type": "stat"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Este painel mostra os projetos com maior quantidade de commits que ainda não foram enviados para o ambiente de deploy.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 18,
            "w": 12,
            "x": 12,
            "y": 10
          },
          "id": 77,
          "maxDataPoints": 100,
          "options": {
            "displayMode": "gradient",
            "maxVizHeight": 300,
            "minVizHeight": 16,
            "minVizWidth": 8,
            "namePlacement": "auto",
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "showUnfilled": true,
            "sizing": "auto",
            "valueMode": "color"
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(10, gitlab_ci_environment_behind_commits_count{project=~\"${projeto}.*\", environment=~\"${ENVIRONMENT}.*\"} > 0)\r\n",
              "instant": true,
              "legendFormat": "{{project}}",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Projetos com maiores atrasos nas entregas (Commits que não foram para deploy)",
          "type": "bargauge"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe o número total de execuções de pipelines no projeto especificado. O painel usa a métrica gitlab_ci_pipeline_run_count e conta quantas execuções de pipelines ocorreram, filtrando pelo label project. A visualização mostra esse valor como uma única métrica, destacando-o de forma visual com fundo colorido.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "red",
                "mode": "fixed"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "decimals": 0,
              "mappings": [],
              "unit": "none"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "success"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 16
          },
          "id": 34,
          "maxDataPoints": 100,
          "options": {
            "displayLabels": [
              "value",
              "percent"
            ],
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "values": [
                "percent"
              ]
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "11.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "count by (status) (\r\n  gitlab_ci_environment_deployment_status{project=~\"${projeto}\", environment=~\"${ENVIRONMENT}.*\", status=\"success\"}\r\n) or vector(0)\r\n",
              "format": "time_series",
              "instant": true,
              "legendFormat": "{{status}}",
              "range": false,
              "refId": "SUCESSO #"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "count by (status) (\r\n  gitlab_ci_environment_deployment_status{project=~\"${projeto}\", environment=~\"${ENVIRONMENT}.*\", status=\"failed\"}\r\n)\r\n",
              "format": "time_series",
              "hide": false,
              "instant": true,
              "legendFormat": "{{status}}",
              "range": false,
              "refId": "FALHA"
            }
          ],
          "title": "% DEPLOYS #",
          "type": "piechart"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #A"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "red",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": false,
                      "tooltip": false,
                      "viz": false
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #DEV"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "green",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #PRD"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "blue",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value #HML"
                },
                "properties": [
                  {
                    "id": "color",
                    "value": {
                      "mode": "fixed"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 4,
            "x": 8,
            "y": 16
          },
          "id": 80,
          "maxDataPoints": 100,
          "options": {
            "displayLabels": [
              "percent"
            ],
            "legend": {
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "values": [
                "percent",
                "value"
              ]
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "tooltip": {
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "11.1.3",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(gitlab_ci_environment_deployment_status{project=~\"${projeto}.*\", ref=~\"${branch}\", environment=~\".*prd.*|.*PRD.*|.*prod.*|.*PROD.*\"}) by (status, environment)",
              "format": "table",
              "instant": false,
              "legendFormat": "PRD",
              "range": true,
              "refId": "PRD"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (environment) (\r\n  sum(gitlab_ci_environment_deployment_status{project=~\"${projeto}.*\", ref=~\"${branch}\", environment=~\".*uat.*|.*qa.*|.*hml.*|.*HML.*|.*HOM.*|.*hom.*\"}) by (status, environment)\r\n)\r\n",
              "format": "table",
              "hide": false,
              "instant": false,
              "legendFormat": "HML",
              "range": true,
              "refId": "HML"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(gitlab_ci_environment_deployment_status{project=~\"${projeto}.*\", ref=~\"${branch}\", environment=~\".*dev.*|.*DEV.*|.*des.*|.*DES.*\"}) by (status, environment)",
              "format": "table",
              "hide": false,
              "instant": false,
              "legendFormat": "DEV",
              "range": true,
              "refId": "DEV"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(gitlab_ci_environment_deployment_status{project=~\"${projeto}.*\", ref=~\"${branch}\", environment=~\".*stg.*|.*STG.*|.*stag.*|.*STAG.*\"}) by (status, environment)",
              "format": "table",
              "hide": false,
              "instant": false,
              "legendFormat": "STG",
              "range": true,
              "refId": "STG"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(gitlab_ci_environment_deployment_status{project=~\"${projeto}.*\", ref=~\"${branch}\", environment!~\".*stg.*|.*STG.*|.*stag.*|.*STAG.*|.*dev.*|.*DEV.*|.*des.*|.*DES.*|.*uat.*|.*qa.*|.*hml.*|.*HML.*|.*HOM.*|.*hom.*|.*prd.*|.*PRD.*|.*prod.*|.*PROD.*\"}) by (status, environment)",
              "format": "table",
              "hide": false,
              "instant": false,
              "legendFormat": "OUTROS",
              "range": true,
              "refId": "OUTROS"
            }
          ],
          "title": "%  execuçãode deployments",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "Exibe o número de deploys realizados em um período específico.",
          "fieldConfig": {
            "defaults": {
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ]
            },
            "overrides": []
          },
          "gridPos": {
            "h": 4,
            "w": 12,
            "x": 0,
            "y": 24
          },
          "id": 100,
          "maxDataPoints": 100,
          "options": {
            "autoSizeColumns": true,
            "autoSizePolygons": true,
            "autoSizeRows": true,
            "compositeConfig": {
              "animationSpeed": "1500",
              "composites": [],
              "enabled": true
            },
            "compositeGlobalAliasingEnabled": false,
            "ellipseCharacters": 18,
            "ellipseEnabled": false,
            "globalAutoScaleFonts": true,
            "globalClickthrough": "",
            "globalClickthroughCustomTarget": "",
            "globalClickthroughCustomTargetEnabled": false,
            "globalClickthroughNewTabEnabled": true,
            "globalClickthroughSanitizedEnabled": true,
            "globalDecimals": 2,
            "globalDisplayMode": "all",
            "globalDisplayTextTriggeredEmpty": "SEM EXECUÇÕES",
            "globalFillColor": "rgba(10, 85, 161, 1)",
            "globalFontSize": 12,
            "globalGradientsEnabled": true,
            "globalOperator": "mean",
            "globalPolygonBorderColor": "rgba(0, 0, 0, 0)",
            "globalPolygonBorderSize": 2,
            "globalPolygonSize": 25,
            "globalRegexPattern": "",
            "globalShape": "hexagon_pointed_top",
            "globalShowTimestampEnabled": false,
            "globalShowTimestampFontSize": 12,
            "globalShowTimestampFormat": "YYYY-MM-DD HH:mm:ss",
            "globalShowTimestampPosition": "below_value",
            "globalShowTimestampYOffset": 0,
            "globalShowTooltipColumnHeadersEnabled": true,
            "globalShowValueEnabled": true,
            "globalTextFontAutoColorEnabled": true,
            "globalTextFontColor": "#000000",
            "globalTextFontFamily": "Roboto",
            "globalThresholdsConfig": [],
            "globalTooltipsEnabled": true,
            "globalTooltipsFontFamily": "Roboto",
            "globalTooltipsShowTimestampEnabled": true,
            "globalTooltipsShowValueEnabled": true,
            "globalUnitFormat": "short",
            "layoutDisplayLimit": 100,
            "layoutNumColumns": 8,
            "layoutNumRows": 8,
            "overrideConfig": {
              "overrides": []
            },
            "sortByDirection": 1,
            "sortByField": "name",
            "tooltipDisplayMode": "all",
            "tooltipDisplayTextTriggeredEmpty": "SEM EXECUÇÔES",
            "tooltipPrimarySortByField": "thresholdLevel",
            "tooltipPrimarySortDirection": 1,
            "tooltipSecondarySortByField": "value",
            "tooltipSecondarySortDirection": 1
          },
          "pluginVersion": "2.1.13",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(increase(gitlab_ci_environment_deployment_count{project=~\"$projeto\", ref=~\"$branch\", environment=~\"${ENVIRONMENT}\"}[$__range])) > 0",
              "format": "table",
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "DEPLOYMENTS POR PERIODO#",
          "type": "grafana-polystat-panel"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "decimals": 0,
              "mappings": [
                {
                  "options": {
                    "match": "null",
                    "result": {
                      "text": "N/A"
                    }
                  },
                  "type": "special"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "#299c46",
                    "value": null
                  },
                  {
                    "color": "#C4162A",
                    "value": 1
                  },
                  {
                    "color": "#EAB839",
                    "value": 5
                  },
                  {
                    "color": "#6ED0E0",
                    "value": 15
                  }
                ]
              },
              "unit": "none"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 5,
            "w": 23,
            "x": 0,
            "y": 28
          },
          "id": 81,
          "maxDataPoints": 100,
          "options": {
            "colorMode": "background",
            "fieldOptions": {
              "calcs": [
                "lastNotNull"
              ]
            },
            "graphMode": "area",
            "justifyMode": "auto",
            "orientation": "auto",
            "percentChangeColorMode": "standard",
            "reduceOptions": {
              "calcs": [
                "last"
              ],
              "fields": "",
              "values": false
            },
            "showPercentChange": false,
            "textMode": "auto",
            "wideLayout": true
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "expr": "sum by (username) (\r\n  gitlab_ci_environment_information{project=~\"${projeto}.*\", environment=~\"${ENVIRONMENT}\"}\r\n)\r\n",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{username}}",
              "refId": "A"
            }
          ],
          "title": "DEPLOYS POR DEV",
          "transformations": [
            {
              "id": "organize",
              "options": {}
            }
          ],
          "type": "stat"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisGridShow": true,
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "drawStyle": "line",
                "fillOpacity": 100,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "lineInterpolation": "smooth",
                "lineStyle": {
                  "dash": [
                    10,
                    10
                  ],
                  "fill": "dash"
                },
                "lineWidth": 1,
                "pointSize": 8,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byValue",
                  "options": {
                    "op": "gte",
                    "reducer": "allIsZero",
                    "value": 0
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": true,
                      "tooltip": true,
                      "viz": false
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 6,
            "w": 24,
            "x": 0,
            "y": 33
          },
          "id": 83,
          "maxDataPoints": 100,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "timezone": [
              "browser"
            ],
            "tooltip": {
              "mode": "none",
              "sort": "none"
            }
          },
          "pluginVersion": "11.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(increase(gitlab_ci_environment_deployment_count{project=~\"${projeto}\",environment=~\"$ENVIRONMENT\"}[$__range])) by (project, environment) / sum(increase(gitlab_ci_environment_deployment_count{project=~\"$projeto\",environment=~\"$ENVIRONMENT\"}[$__range])) by (project, environment) > 0 or vector(0)",
              "format": "heatmap",
              "instant": false,
              "interval": "",
              "legendFormat": "{{ environment }} - {{ project }}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "DEPLOYMENTS",
          "type": "timeseries"
        },
        {
          "datasource": {
            "default": false,
            "type": "prometheus",
            "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
          },
          "description": "",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "center",
                "cellOptions": {
                  "type": "auto"
                },
                "filterable": true,
                "inspect": false
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": null
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Environment ID"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "View environment #${__value.numeric}",
                        "url": "https://${GITLAB_HOST}/${__data.fields.project}/-/environments/${__value.text}"
                      }
                    ]
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "dark-blue",
                      "mode": "fixed"
                    }
                  },
                  {
                    "id": "custom.width",
                    "value": 122
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Status"
                },
                "properties": [
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "mode": "thresholds"
                    }
                  },
                  {
                    "id": "mappings",
                    "value": [
                      {
                        "options": {
                          "1": {
                            "text": "SUCCESS"
                          },
                          "2": {
                            "text": "RUNNING"
                          },
                          "3": {
                            "text": "FAILED"
                          },
                          "4": {
                            "text": "CANCELED"
                          },
                          "5": {
                            "text": "SKIPPED"
                          },
                          "6": {
                            "text": "PENDING"
                          }
                        },
                        "type": "value"
                      }
                    ]
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "light-blue",
                          "value": 2
                        },
                        {
                          "color": "semi-dark-red",
                          "value": 5
                        },
                        {
                          "color": "rgb(135, 135, 134)",
                          "value": 6
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Job"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "custom.width",
                    "value": 230
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Project"
                },
                "properties": [
                  {
                    "id": "custom.align",
                    "value": "left"
                  },
                  {
                    "id": "custom.width",
                    "value": 503
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Ref Kind"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 98
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Ref Name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 122
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Duration"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "dtdurations"
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "light-orange",
                          "value": 900
                        },
                        {
                          "color": "semi-dark-red",
                          "value": 1200
                        }
                      ]
                    }
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "custom.width",
                    "value": 97
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Date"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "dtdurations"
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "custom.width",
                    "value": 111
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Environment Name"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 218
                  },
                  {
                    "id": "custom.align",
                    "value": "left"
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Latest deployment"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "View job #${__value.numeric}",
                        "url": "https://${GITLAB_HOST}/${__data.fields.project}/-/jobs/${__value.numeric}"
                      }
                    ]
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "color",
                    "value": {
                      "fixedColor": "blue",
                      "mode": "fixed"
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "# of commits behind"
                },
                "properties": [
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "orange",
                          "value": 1
                        },
                        {
                          "color": "semi-dark-red",
                          "value": 4
                        }
                      ]
                    }
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Time behind"
                },
                "properties": [
                  {
                    "id": "unit",
                    "value": "dtdurations"
                  },
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "mode": "gradient",
                      "type": "color-background"
                    }
                  },
                  {
                    "id": "thresholds",
                    "value": {
                      "mode": "absolute",
                      "steps": [
                        {
                          "color": "green",
                          "value": null
                        },
                        {
                          "color": "orange",
                          "value": 1
                        },
                        {
                          "color": "semi-dark-red",
                          "value": 86400
                        }
                      ]
                    }
                  },
                  {
                    "id": "custom.width",
                    "value": 185
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": ".*commit$"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "View commit ${__value.text} details",
                        "url": "https://${GITLAB_HOST}/${__data.fields.Project}/-/commit/${__value.text}"
                      }
                    ]
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byRegexp",
                  "options": ".*behind$"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Compare commits on GitLab",
                        "url": "https://${GITLAB_HOST}/${__data.fields.Project}/-/compare/${__data.fields[\"Deployed commit\"]}...${__data.fields[\"Latest commit\"]}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 13,
            "w": 24,
            "x": 0,
            "y": 39
          },
          "id": 57,
          "maxDataPoints": 100,
          "options": {
            "cellHeight": "sm",
            "footer": {
              "countRows": false,
              "fields": "",
              "reducer": [
                "sum"
              ],
              "show": false
            },
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Date"
              }
            ]
          },
          "pluginVersion": "9.5.2",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "(max(gitlab_ci_environment_deployment_status{project=~\"$projeto\", environment=~\"$ENVIRONMENT\", status=~\"success\"}) by (project, environment) * 1) > 0 or\n(max(gitlab_ci_environment_deployment_status{project=~\"$projeto\", environment=~\"$ENVIRONMENT\", status=~\"running\"}) by (project, environment) * 2) > 0 or\n(max(gitlab_ci_environment_deployment_status{project=~\"$projeto\", environment=~\"$ENVIRONMENT\", status=~\"failed\"}) by (project, environment) * 3) > 0 or\n(max(gitlab_ci_environment_deployment_status{project=~\"$projeto\", environment=~\"$ENVIRONMENT\", status=~\"canceled\"}) by (project, environment) * 4) > 0 or\n(max(gitlab_ci_environment_deployment_status{project=~\"$projeto\", environment=~\"$ENVIRONMENT\", status=~\"skipped\"}) by (project, environment) * 5) > 0 or\n(max(gitlab_ci_environment_deployment_status{project=~\"$projeto\", environment=~\"$ENVIRONMENT\", status=~\"created|waiting_for_resource|preparing|pending|manual|scheduled\"}) by (project, environment) * 6) > 0",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "-max(time() - gitlab_ci_environment_deployment_timestamp{project=~\"$projeto\", environment=~\"$ENVIRONMENT\"}) by (project, environment)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_environment_deployment_duration_seconds{project=~\"$projeto\", environment=~\"$ENVIRONMENT\"}) by (project, environment)",
              "format": "table",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "",
              "range": false,
              "refId": "C"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_environment_information{project=~\"$projeto\", environment=~\"$ENVIRONMENT\"}) by (environment_id, project, environment, author_email, current_commit_short_id, ref, latest_commit_short_id)",
              "format": "table",
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "range": false,
              "refId": "D"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_environment_behind_commits_count{project=~\"$projeto\", environment=~\"$ENVIRONMENT\"}) by (project, environment)",
              "format": "table",
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "range": false,
              "refId": "E"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_environment_behind_duration_seconds{project=~\"$projeto\", environment=~\"$ENVIRONMENT\"}) by (project, environment)",
              "format": "table",
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "range": false,
              "refId": "F"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(gitlab_ci_environment_deployment_job_id{project=~\"$projeto\", environment=~\"$ENVIRONMENT\"}) by (project, environment)",
              "format": "table",
              "instant": true,
              "interval": "",
              "legendFormat": "",
              "range": false,
              "refId": "G"
            }
          ],
          "title": "ENVIRONMENTS",
          "transformations": [
            {
              "id": "merge",
              "options": {}
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "Value #A": false,
                  "Value #D": true,
                  "Value #H": true,
                  "job_name": false
                },
                "includeByName": {},
                "indexByName": {
                  "Time": 0,
                  "Value #A": 15,
                  "Value #B": 7,
                  "Value #C": 8,
                  "Value #D": 5,
                  "Value #E": 12,
                  "Value #F": 13,
                  "Value #G": 4,
                  "author_email": 9,
                  "current_commit_short_id": 10,
                  "environment": 2,
                  "environment_id": 1,
                  "latest_commit_short_id": 11,
                  "project": 3,
                  "ref": 6,
                  "status": 14
                },
                "renameByName": {
                  "Value #A": "Status",
                  "Value #B": "Date",
                  "Value #C": "Duration",
                  "Value #D": "",
                  "Value #E": "# of commits behind",
                  "Value #F": "Time behind",
                  "Value #G": "Latest deployment",
                  "Value #H": "",
                  "author_email": "Author",
                  "current_commit_short_id": "Deployed commit",
                  "environment": "Environment Name",
                  "environment_id": "Environment ID",
                  "job_name": "Job",
                  "kind": "Ref Kind",
                  "latest_commit_short_id": "Latest commit",
                  "project": "Project",
                  "ref": "Ref Name",
                  "status": "Status"
                }
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "DEPLOYMENTS ENVIROMENTS #",
      "type": "row"
    }
  ],
  "refresh": "5m",
  "schemaVersion": 38,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": [
      {
        "allValue": ".*",
        "current": {
          "selected": false,
          "text": "All",
          "value": "$__all"
        },
        "datasource": {
          "type": "prometheus",
          "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
        },
        "definition": "label_values(gitlab_ci_environment_information,project)",
        "description": "Projetos OuriBank",
        "hide": 0,
        "includeAll": true,
        "label": "projeto",
        "multi": false,
        "name": "agrupador",
        "options": [],
        "query": {
          "query": "label_values(gitlab_ci_environment_information,project)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "/^((?!Ourinvest\\/devops\\/poc).*)\\/.*$/",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      },
      {
        "current": {
          "selected": false,
          "text": ".*",
          "value": ".*"
        },
        "description": "Nome da branch",
        "hide": 0,
        "label": "Branch Name",
        "name": "branch",
        "options": [
          {
            "selected": true,
            "text": ".*",
            "value": ".*"
          }
        ],
        "query": ".*",
        "skipUrlSync": false,
        "type": "textbox"
      },
      {
        "allValue": "${agrupador}",
        "current": {
          "selected": false,
          "text": "All",
          "value": "$__all"
        },
        "datasource": {
          "type": "prometheus",
          "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
        },
        "definition": "label_values(gitlab_ci_environment_information{project=~\"$projeto.*\"},project)",
        "description": "Projetos OuriBank",
        "hide": 0,
        "includeAll": true,
        "label": "repositorio",
        "multi": false,
        "name": "projeto",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(gitlab_ci_environment_information{project=~\"$projeto.*\"},project)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      },
      {
        "current": {
          "selected": true,
          "text": [
            "All"
          ],
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "f59aa75c-4392-4831-82ef-cd658fa44fb7"
        },
        "definition": "label_values(gitlab_ci_environment_information{project=~\"$projeto\"},environment)",
        "hide": 0,
        "includeAll": true,
        "label": "ENVIRONMENT",
        "multi": true,
        "name": "ENVIRONMENT",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(gitlab_ci_environment_information{project=~\"$projeto\"},environment)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      },
      {
        "description": "URL do gitlab",
        "hide": 2,
        "label": "GITLAB_HOST",
        "name": "GITLAB_HOST",
        "query": "gitlab.ourinvest.com.br",
        "skipUrlSync": false,
        "type": "constant"
      }
    ]
  },
  "time": {
    "from": "now-3h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "browser",
  "title": "DASHBOARD CI/CD v2",
  "uid": "cdu4icnx1emtcbv2",
  "version": 4,
  "weekStart": ""
}
